<div class="max-w-screen-sm pt-5 mx-auto">
    <a class="hover:bg-blue-700 bg-blue-500 text-white p-2 rounded transition"
        (click)="goBack()">Back
    </a>
    <a class="hover:bg-blue-700 bg-blue-500 text-white m-2 p-2 rounded transition" 
        (click)="refresh()"> <i class="fa-solid fa-rotate-left"></i>Refresh
    </a>
    <div class="grid justify-items-center text-3xl p-5 font-extrabold ">Anonymous Chat</div>
    <div class="bg-white rounded-lg shadow-lg">
        <div class="bg-gray-200 rounded-t-lg">
            <div class="flex w-full justify-between pt-6 p-2 text-3xl">
                <div class="">Landlord</div>
                <div class="">Tenant</div>
            </div>
        </div>
        <!-- Chat Messages -->
        <div class="p-4" style="max-height: 400px; overflow-y: auto;">
            <div class="flex flex-col space-y-4">
                <!-- All Messages -->
                <ng-container *ngFor="let message of messages">
                <div [ngClass]="{'flex justify-end': message.userRole === 1 && !message.userRole}">
                    <div [ngClass]="{'flex justify-end text-black rounded-lg': message.userRole === 1 || !message.userRole, 
                                    'bg-gray-300 rounded-lg py-2 px-4 max-w-xs': message.userRole === 2 && message.userRole}">
                        <p>{{ message.content }}</p>
                    </div>
                </div>
                </ng-container>
            </div>
        </div>
        <!-- Chat Input -->
        <div class="border-t border-gray-200 px-4 py-3">
            <div class="flex">
                <input type="text" placeholder="Type your message here..." class="flex-1 bg-gray-100 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500" [(ngModel)]="newMessage">
                <button class="ml-4 bg-blue-500 text-white px-4 py-2 rounded-lg focus:outline-none" (click)="sendMessage()">Send</button>
            </div>
        </div>
    </div>
</div>
